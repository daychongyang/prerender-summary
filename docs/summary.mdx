---
name: Prerendering Summary
route: /
---

# Prerendering Summary

## 一、前端渲染方式

- CSR: 客户端渲染 `->` 在浏览器中渲染应用程序
- Prerendering: 预渲染 `->` 在应用程序构建时,使用静态 HTML 作为其初始状态
- SSR: 服务端渲染 `->` 在服务器上将应用程序渲染为 HTML
- Rehydration: 同构 `->` 在客户端上“启动” JavaScript 视图，复用服务器渲染的 HTML DOM 树和数据

## 二、什么是预渲染?

⁉️

## 三、为什么使用预渲染?

SPA (Single-Page-Application) 首屏渲染慢, 白屏时间过长问题、SEO 等问题

- 更好的 SEO
- 更快的 FCP

## 四、预渲染使用场景及特定场景对比

### 4.1 性能指标

- TTFB: Time to First Byte (首字节时间)
- FP: First Paint (首次绘制 `->` 标记浏览器渲染任何在视觉上不同于导航前屏幕内容之内容的时间点)
- FCP: First Contentful Paint (首次内容绘制 `->` 标记的是浏览器渲染来自 DOM 第一位内容的时间点)
- FMP: First Meaningful Paint(首次有意义绘制 `->`标记应用是否已渲染可以与用户互动的足够内容的时间点)
- TTI: Time To Interactive (可交互时间 `->` 标记应用已进行视觉渲染并能可靠响应用户输入的时间点)

### 4.2 **特定**页面**特定**场景下的对比

1. 不常改动、公开型页面
2. 忽略并发、服务器性能、带宽
3. 服务器渲染 读取本地资源文件、客户端渲染读取 CDN 文件
4. 需请求列表接口
5. ...

|      |  CSR   | Prerendering | SSR  |   Rehydration   |
| :--: | :----: | :----------: | :--: | :-------------: |
| TTFB |   快   |      快      |  慢  | CSR(快)/SSR(慢) |
|  FP  |   快   |      快      |  慢  | CSR(快)/SSR(慢) |
| FCP  |   慢   |      快      |  快  | CSR(慢)/SSR(快) |
| FMP  |   慢   |      快      |  快  | CSR(慢)/SSR(快) |
| TTI  |   /    |      /       |  /   |        /        |
| SEO  | 不友好 |     友好     | 友好 |      友好       |

## 五、如何实现预渲染

## 六、问题

## 七、参考

- [Definitions MDN](https://developer.mozilla.org/en-US/docs/Glossary)
- [Rendering on the Web](https://developers.google.com/web/updates/2019/02/rendering-on-the-web)
- [构建时预渲染：网页首帧优化实践](https://tech.meituan.com/2018/11/15/first-contentful-paint-practice.html)
- [大前端时代，如何做好 C 端业务下的 React SSR？](https://www.infoq.cn/article/GTPDzrtrlrjYlMeW-d0E)
- [性能指标都是些什么鬼?](https://llp0574.github.io/2017/10/19/performance-metrics-whats-this-all-about/)
- [以用户为中心的性能指标](https://developers.google.com/web/fundamentals/performance/user-centric-performance-metrics)

## 八、工具

- [Lighthouse](https://chrome.google.com/webstore/detail/lighthouse/blipmdconlkpinefehnmjammfjpmpbjk)
